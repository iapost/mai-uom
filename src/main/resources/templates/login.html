<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<html>
	<head>
	</head>
	<body>
		<script>
			function login() {				
				var settings = {
					"url": "/login",
					"method": "POST",
					"timeout": 0,
					"headers": {
						"Content-Type": "application/json"
					  },
					"data": JSON.stringify({
					"afm": document.getElementById("afm").value,
					"password": document.getElementById("password").value
				  }),
				};
				$.ajax(settings).done(function (response) {
					if(response.role === 1){
						window.location.href = "/ui/clientHomePage?token=" + response.token
					}
					else if(response.role === 2){
						window.location.href = "/ui/dealershipHomePage?token=" + response.token
					}
					else{
						alert("Δώσατε λάθος διαπιστευτήρια. Προσπαθήστε ξανά");
					} 
				});
			}
			
		
		</script>	
		<table>
			<tr>
				<td> AFM: </td>
				<td> <input type='text' id='afm' />
			</tr>
			<tr>
				<td> Password: </td>
				<td> <input type='password' id='password' />
			</tr>
		</table>
		<button name='login' onclick="login();">Σύνδεση</button>
		<div>
			<p><a href="clientRegister.html">Εγγραφή για πελάτη</a></p>
			<p><a href="dealershipRegister.html">Εγγραφή για αντιπροσωπεία</a></p>
		</div>		

	</body>
</html>